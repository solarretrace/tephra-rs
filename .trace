
running 3 tests
test test::size_checks ... ok
test test::spanless ... ok
test test::spanned ... FAILED

successes:

---- test::spanless stdout ----
2022-01-31T04:44:14.927493Z TRACE MessageType{color_enabled=true}: tephra_error::message: Error


successes:
    test::size_checks
    test::spanless

failures:

---- test::spanned stdout ----
2022-01-31T04:44:14.927355Z TRACE tephra_span::span: new span (byte 3-10, page: 2:0-4:4)
2022-01-31T04:44:14.927415Z TRACE tephra_error::error: ParseError { description: "unrecognized token", span: Some(("
 
abcd" (2:0-4:4, bytes 3-10), "symbol not recognized", ColumnMetrics { line_ending: Lf, tab_width: 4 })), section_type: Lexer }
2022-01-31T04:44:14.927522Z TRACE widen_to_line:line_start_position: tephra_span::metrics: byte 3 is line break
2022-01-31T04:44:14.927553Z TRACE widen_to_line:line_start_position: tephra_span::metrics: final pos = 2:0, byte 3
2022-01-31T04:44:14.927582Z TRACE widen_to_line:line_end_position: tephra_span::metrics: byte 10 is line break
2022-01-31T04:44:14.927596Z TRACE widen_to_line: tephra_span::span: new span (byte 3-10, page: 2:0-4:4)
2022-01-31T04:44:14.927631Z TRACE MessageType{color_enabled=true}: tephra_error::message: Error
2022-01-31T04:44:14.927669Z TRACE SourceSpan{color_enabled=true}:new: tephra_error::source_display: riser_width = 1
2022-01-31T04:44:14.927706Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next: tephra_span::span: current state = start: 2:0, byte 3, end: 4:4, byte 10
2022-01-31T04:44:14.927730Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next:line_end_position: tephra_span::metrics: byte 3 is line break
2022-01-31T04:44:14.927747Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next: tephra_span::span: new span (byte 3, page: 2:0)
2022-01-31T04:44:14.927768Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next:next_position: tephra_span::metrics: @ 2:0, byte 3
2022-01-31T04:44:14.927785Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next:next_position: tephra_span::metrics: .. found line break, next @ 3:0, byte 4
2022-01-31T04:44:14.927801Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}: tephra_error::source_display: span 0 = 2:0, byte 3
2022-01-31T04:44:14.927835Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next: tephra_span::span: current state = start: 3:0, byte 4, end: 4:4, byte 10
2022-01-31T04:44:14.927862Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next:line_end_position:next_position: tephra_span::metrics: @ 3:0, byte 4
2022-01-31T04:44:14.927879Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next:line_end_position:next_position: tephra_span::metrics: .. found ' ', next at @ 3:1, byte 5
2022-01-31T04:44:14.927896Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next:line_end_position: tephra_span::metrics: byte 5 is line break
2022-01-31T04:44:14.927910Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next: tephra_span::span: new span (byte 4-5, page: 3:0-3:1)
2022-01-31T04:44:14.927929Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next:next_position: tephra_span::metrics: @ 3:1, byte 5
2022-01-31T04:44:14.927942Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next:next_position: tephra_span::metrics: .. found line break, next @ 4:0, byte 6
2022-01-31T04:44:14.927958Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}: tephra_error::source_display: span 1 = 3:0-3:1, bytes 4-5
2022-01-31T04:44:14.927985Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next: tephra_span::span: current state = start: 4:0, byte 6, end: 4:4, byte 10
2022-01-31T04:44:14.927999Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next: tephra_span::span: final line
2022-01-31T04:44:14.928010Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next: tephra_span::span: new span (byte 6-10, page: 4:0-4:4)
2022-01-31T04:44:14.928023Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}: tephra_error::source_display: span 2 = 4:0-4:4, bytes 6-10
2022-01-31T04:44:14.928156Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next: tephra_span::span: current state = start: 5:0, byte 6, end: 4:4, byte 10
2022-01-31T04:44:14.928178Z TRACE SourceSpan{color_enabled=true}:MultiSplitLines{color_enabled=true}:SplitLines::next: tephra_span::span: fused
thread 'test::spanned' panicked at 'assertion failed: `(left == right)`

[1mDiff[0m [31m< left[0m / [32mright >[0m :
[31m<"error: [0m[1;48;5;52;31munrecognized token\n --> (2:0-4:4, bytes 3-10)\n  | \n2 | / \n3 | |  \n4 | | abcd\n  | |____^ symbol not recognized[0m[31m\n"[0m
[32m>"error: [0m[1;48;5;22;32mDESCRIPTION[0m[32m\n"[0m

', tephra-error/src/test.rs:72:5
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace


failures:
    test::spanned

test result: FAILED. 2 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

